# 医学图像脂肪分析工具

## 功能简介

本工具用于分析医学图像中的脂肪含量，支持2D和3D图像处理，提供交互式和批量处理模式。

## 主要功能

### 四种处理模式
- **交互式2D模式**：单张2D图像分析
- **交互式3D模式**：单张3D图像分析  
- **批量2D模式**：批量处理2D图像
- **批量3D模式**：批量处理3D图像

### 三种ROI绘制方式
- **矩形**：拖拽鼠标绘制矩形区域
- **圆形**：点击圆心，拖拽绘制圆形区域
- **多边形**：点击多个点绘制多边形区域

## 快捷键

### 通用快捷键
- `Ctrl + O`：打开图像文件
- `Ctrl + S`：保存ROI数据
- `Ctrl + Z`：撤销上一步操作
- `Ctrl + R`：重置图像
- `Ctrl + Q`：退出程序

### 交互式模式快捷键
- `R`：切换到矩形绘制模式
- `C`：切换到圆形绘制模式
- `P`：切换到多边形绘制模式
- `S`：保存当前ROI
- `D`：删除选中的ROI
- `E`：编辑ROI
- `F`：完成多边形绘制
- `Esc`：取消当前操作

### 批量模式快捷键
- `Ctrl + A`：全选图像
- `Ctrl + D`：取消选择
- `F5`：刷新文件列表
- `Enter`：开始批量处理

## 操作说明

### 交互式模式
1. 选择处理模式（2D或3D）
2. 打开图像文件
3. 选择ROI绘制方式
4. 在图像上绘制感兴趣区域
5. 保存ROI数据

### 批量模式
1. 选择处理模式（2D或3D）
2. 选择输入文件夹
3. 选择输出文件夹
4. 设置处理参数
5. 开始批量处理

## 系统要求

- Python 3.7+
- OpenCV 4.12.0
- NumPy
- PIL/Pillow
- tkinter

## 安装依赖

```bash
pip install -r requirements.txt
```

## 运行程序

```bash
python main.py
```
